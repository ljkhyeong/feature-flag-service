# 회고 - 2025-08-31

## 오늘 한 일
- Feature-Flag E2E 테스트 초안 작성 (캐시 미스/히트/404)
- CI 스크립트와 REST Docs 스니펫 테스트 추가
- ADR-001 캐싱 정책 문서화

## 배운 점
- Jackson2JsonRedisSerializer<Object> 사용 시 캐시 히트 값이 LinkedHashMap으로 복원되어 DTO 캐스팅 불가
- GenericJackson2JsonRedisSerializer로 타입 메타데이터를 포함하면 DTO로 안전하게 복원 가능
- 테스트(E2E)와 애플리케이션 환경에서의 차이를 문서화해야 혼동을 줄일 수 있다

## 아쉬운 점
- 업데이트 API가 없어 캐시 무효화/재적재 시나리오는 검증 불가
- 테스트 메서드 이름/설명 일부는 더 명확히 개선 필요

## 다음 할 일
- Flag 업데이트/토글 API 추가
- 캐시 무효화(@CacheEvict) E2E 시나리오 구현
- REST Docs에 업데이트 API 문서화

## 느낀 점
- “운영에선 잘 되는데 테스트에선 실패” 같은 함정은 결국 타입 직렬화기 문제였음
- ADR로 결정 과정을 기록해두니 팀원/미래의 나에게 큰 도움이 될 것 같다
